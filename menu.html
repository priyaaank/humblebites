<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu - Humble Bites</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="nav-brand">
                <img src="images/logo.png" alt="Humble Bites" class="logo">
                <span class="brand-name">Humble Bites</span>
            </a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="menu.html" class="nav-link active">Menu</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <li><a href="chef.html" class="nav-link">Chef</a></li>
                <li><a href="https://instagram.com/humblebites" class="nav-link social-link" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                    <img src="images/products/instagram-icon.svg" alt="Instagram" class="social-icon">
                </a></li>
            </ul>
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Our Menu</h1>
            <p id="menu-last-updated">Freshly made, limited batches â€” order while available</p>
        </div>
    </section>

    <!-- Menu Categories -->
    <section class="menu-section">
        <div class="container">
            <!-- Category navigation -->
            <div class="category-nav" id="category-nav">
                <!-- Will be populated by JavaScript -->
            </div>

            <!-- Menu Items -->
            <div id="menu-container">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Humble Bites</h4>
                    <p>Freshly baked goods made with love and premium ingredients</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="menu.html">Menu</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="chef.html">Chef</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Order Now</h4>
                    <a href="#" class="btn btn-secondary whatsapp-order" data-message="Hi! I'd like to know more about your products">Contact on WhatsApp</a>
                </div>
                <div class="footer-section">
                    <h4>Follow Us</h4>
                    <div class="social-links">
                        <a href="https://instagram.com/humblebites.in" target="_blank" rel="noopener noreferrer" class="social-link-footer" aria-label="Follow us on Instagram">
                            <img src="images/products/instagram-icon.svg" alt="Instagram" class="social-icon-footer">
                            <span>@humblebites.in</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Humble Bites. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/menu-loader.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            loadMenu().then(menuData => {
                // Create category navigation
                const categoryNav = document.getElementById('category-nav');
                menuData.categories.forEach((category, index) => {
                    const navItem = document.createElement('a');
                    navItem.href = `#${category.id}`;
                    navItem.className = 'category-nav-item' + (index === 0 ? ' active' : '');
                    navItem.textContent = category.name;
                    categoryNav.appendChild(navItem);
                });

                // Create menu sections
                const menuContainer = document.getElementById('menu-container');
                menuData.categories.forEach(category => {
                    const section = document.createElement('div');
                    section.className = 'menu-category';
                    section.id = category.id;

                    const header = document.createElement('div');
                    header.className = 'category-header';
                    header.innerHTML = `
                        <h2>${category.name}</h2>
                        <p>${category.description}</p>
                    `;
                    section.appendChild(header);

                    const grid = document.createElement('div');
                    grid.className = 'products-grid';

                    if (category.items.length === 0) {
                        grid.innerHTML = '<p class="no-items">No items in this category today.</p>';
                    } else {
                        category.items.forEach(item => {
                            const card = createProductCard(item, menuData.whatsappNumber);
                            grid.appendChild(card);
                        });
                    }

                    section.appendChild(grid);
                    menuContainer.appendChild(section);
                });

                // Smooth scroll for category navigation
                document.querySelectorAll('.category-nav-item').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = link.getAttribute('href').substring(1);
                        const target = document.getElementById(targetId);
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });

                        // Update active state
                        document.querySelectorAll('.category-nav-item').forEach(item => {
                            item.classList.remove('active');
                        });
                        link.classList.add('active');
                    });
                });
            });

            // Mobile menu toggle
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            const navMenu = document.querySelector('.nav-menu');

            mobileToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                mobileToggle.classList.toggle('active');
            });
        });
    </script>
</body>
</html>
